<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>

<h2>Loading...</h2>

<script>
$(document).ready(function() {
    $.ajax({
        type: 'POST',
        url: '/compare_faces',
        data: { 'filename': '{{ filename }}' },
        success: function(response) {
            // Redirect to the gallery page with the matches
            window.location.href = '/gallery?matches=' + response.matches.join(',');
        },
        error: function(response) {
            // Handle the error here
        }
    });
});
</script>

</body>
</html>